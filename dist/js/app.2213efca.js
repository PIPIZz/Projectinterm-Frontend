(function(){"use strict";var e={4770:function(e,t,a){var o=a(9242),s=a(3396);const l={key:0,id:"overlay"},n=(0,s._)("div",{class:"position-absolute top-50 start-50 translate-middle"},[(0,s._)("div",{class:"spinner-grow text-primary",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")]),(0,s._)("div",{class:"spinner-grow text-secondary",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")]),(0,s._)("div",{class:"spinner-grow text-success",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")]),(0,s._)("div",{class:"spinner-grow text-danger",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")]),(0,s._)("div",{class:"spinner-grow text-warning",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")]),(0,s._)("div",{class:"spinner-grow text-info",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")]),(0,s._)("div",{class:"spinner-grow text-light",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")]),(0,s._)("div",{class:"spinner-grow text-dark",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")])],-1),i=[n];function r(e,t,a,o,n,r){const c=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[1==e.loading?((0,s.wg)(),(0,s.iD)("div",l,i)):(0,s.kq)("",!0),(0,s.Wm)(c,{style:{"min-height":"100vh"}})],64)}var c=a(65),d=(0,s.aZ)({setup(){return{}},created(){console.log(this.$store.state.loading)},computed:{...(0,c.rn)({loading:e=>e.loading})}}),u=a(89);const g=(0,u.Z)(d,[["render",r]]);var m=g,p=a(7138),h=(0,c.MT)({state:{loading:!1},getters:{},mutations:{UPDATE_LOADING(e,t){e.loading=t,console.log("UPDATE_LOADING Working")}},actions:{update_loading({commit:e},t){e("UPDATE_LOADING",t)}},modules:{}}),v=(a(7024),a(8958),a(7795)),w=a(36),f=a(7811);const y={apiKey:"AIzaSyCUl5bXfR3wcVwZNwkm0ViZS7qEHioRULQ",authDomain:"knowledge-center-86ef5.firebaseapp.com",projectId:"knowledge-center-86ef5",storageBucket:"knowledge-center-86ef5.appspot.com",messagingSenderId:"185596797498",appId:"1:185596797498:web:61cbc701e7aa468b338b03"},_=(0,v.ZF)(y),b=(0,w.ad)(_),k=(0,f.v0)(_),A=(0,o.ri)(m).use(h).use(p.Z);A.provide("firestoreDB",b),A.provide("firebaseAuth",k).mount("#app")},7138:function(e,t,a){a.d(t,{Z:function(){return To}});var o=a(2483),s=a(3396),l=a(9242),n=a.p+"img/cat.4d27cf7c.gif";const i={class:"position-absolute top-50 start-50 translate-middle"},r={class:"row"},c=(0,s._)("div",{class:"col-6 p-2"},[(0,s._)("img",{src:n,style:{width:"30rem",height:"30rem"}})],-1),d={class:"col-6 p-2"},u={class:"row justify-content-center p-4"},g=(0,s._)("h4",{class:"text-center pb-4 pt-5"},"Register",-1),m={class:"mb-3"},p=(0,s._)("label",{for:"name"},"Name",-1),h={class:"mb-3"},v=(0,s._)("label",{for:"Email"},"Email",-1),w={class:"mb-3"},f=(0,s._)("label",{for:"password"},"Password",-1),y=(0,s._)("button",{class:"btn btn-dark col-11 pm-3",type:"submit"},"Register",-1),_=(0,s._)("div",{class:""},[(0,s._)("hr")],-1),b=(0,s._)("i",{class:"bi-google"},null,-1);function k(e,t,a,o,n,k){const A=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",i,[(0,s._)("form",{onSubmit:t[4]||(t[4]=(0,l.iM)(((...t)=>e.onclickRegiste&&e.onclickRegiste(...t)),["prevent"])),style:{width:"60rem"}},[(0,s._)("div",r,[c,(0,s._)("div",d,[(0,s._)("div",u,[g,(0,s._)("div",m,[p,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t)},null,512),[[l.nr,e.name]])]),(0,s._)("div",h,[v,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t)},null,512),[[l.nr,e.email]])]),(0,s._)("div",w,[f,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t)},null,512),[[l.nr,e.password]])]),y,_,(0,s._)("button",{class:"btn btn-danger col-11 text-white",onClick:t[3]||(t[3]=(0,l.iM)(((...t)=>e.onclickGoogleRegister&&e.onclickGoogleRegister(...t)),["prevent"]))},[b,(0,s.Uk)(" Sign up with Google")]),(0,s.Wm)(A,{to:"/",class:"text-center link-dark mt-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("Back")])),_:1})])])])],32)])])}a(7658);var A=a(5939),C=a(7811),D=(0,s.aZ)({data:()=>({name:"",email:"",password:""}),methods:{async onclickRegiste(){""==this.name&&alert("Please Fill Name"),""==this.email&&alert("Please Fill email"),""==this.password&&alert("Please Fill password");var e={name:this.name,email:this.email,password:this.password,role:"user"};let t="https://interm-api.onrender.com/api/profile/create";await A.Z.post(t,e).then((e=>{console.log(e),To.push({name:"login"})})).catch((e=>{console.log(e.response.data),alert(e.response.data.message),To.push({path:"/register"}).then((()=>{this.$router.go()}))}))},async onclickGoogleRegister(){const e=(0,C.v0)(),t=new C.hJ;(0,C.rh)(e,t).then((async e=>{const t=e.user.email,a=e.user.displayName,o="1234",s="user";let l="https://interm-api.onrender.com/api/profile/create";await A.Z.post(l,{name:a,email:t,password:o,role:s}).then((e=>{console.log(e),alert("Register Success"),To.push({name:"login"})})).catch((e=>{console.log(e.response.data),alert(e.response.data.message),To.push({path:"/register"}).then((()=>{this.$router.go()}))}))}))}}}),x=a(89);const S=(0,x.Z)(D,[["render",k]]);var T=S;const I={class:"container"},E={class:"position-absolute top-50 start-50 translate-middle"},U={style:{width:"60rem"}},N={class:"row"},Z=(0,s._)("div",{class:"col-6 p-2"},[(0,s._)("img",{src:n,style:{width:"30rem",height:"30rem"}})],-1),P={class:"col-6 p-2"},H={class:"row justify-content-center p-4"},L=(0,s._)("h4",{class:"text-center pb-4 pt-5"},"Login",-1),M={class:"pb-3"},O=(0,s._)("label",{class:"form-label"},"Email address",-1),B={class:"pb-4"},V=(0,s._)("label",{class:"form-label"},"Password",-1),z=(0,s._)("div",{class:""},[(0,s._)("hr")],-1),G=(0,s._)("i",{class:"bi-google"},null,-1),j=(0,s._)("br",null,null,-1);function Q(e,t,a,o,n,i){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("div",E,[(0,s._)("form",U,[(0,s._)("div",N,[Z,(0,s._)("div",P,[(0,s._)("div",H,[L,(0,s._)("div",M,[O,(0,s.wy)((0,s._)("input",{type:"email",class:"form-control",placeholder:"  Email",required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.states.email=t)},null,512),[[l.nr,e.states.email]])]),(0,s._)("div",B,[V,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control",placeholder:"  Password",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.states.password=t)},null,512),[[l.nr,e.states.password]])]),(0,s._)("button",{class:"btn btn-primary col-11",onClick:t[2]||(t[2]=(0,l.iM)(((...t)=>e.onclickLogin&&e.onclickLogin(...t)),["prevent"])),type:"submit"},"LOGIN"),z,(0,s._)("button",{class:"btn btn-danger col-11 text-white",onClick:t[3]||(t[3]=(0,l.iM)(((...t)=>e.onclickGoogleLogin&&e.onclickGoogleLogin(...t)),["prevent"]))},[G,(0,s.Uk)(" Google")]),(0,s.Wm)(r,{to:"/register",class:"text-center link-dark mt-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("Register")])),_:1})])])]),j])])])}var F=a(4870),J=(0,s.aZ)({methods:{async onclickLogin(){this.$store.commit("UPDATE_LOADING",!0);let e="https://interm-api.onrender.com/api/profile/login";await A.Z.post(e,this.states).then((e=>{let t=e.data.userInfo,a=e.data.accessToken;localStorage.setItem("profile",JSON.stringify(t)),localStorage.setItem("access_token",a),To.push("/user/home")})).catch((e=>{console.log(e.response.data),alert(e.response.data.message),this.$store.commit("UPDATE_LOADING",!1)}))},onclickGoogleLogin(){const e=(0,C.v0)(),t=new C.hJ;(0,C.rh)(e,t).then((async e=>{const t=e.user.email,a=e.user.uid;e.user.displayName;let o="https://interm-api.onrender.com/api/profile/loginwithgoogle";await A.Z.post(o,{email:t,provider_id:a}).then((e=>{let t=e.data.userInfo,a=e.data.accessToken;localStorage.setItem("profile",JSON.stringify(t)),localStorage.setItem("access_token",a),To.push("/user/home")})).catch((async e=>{const t=e.code,a=e.message;console.log(t),console.log(a)}))})).catch((e=>{const t=e.code,a=e.message;console.log(t),console.log(a)}))}},setup(){const e=(0,F.qj)({email:"",password:""}),t=(0,s.f3)("firebaseAuth");return{states:e,firebaseAuth:t}}});const q=(0,x.Z)(J,[["render",Q]]);var X=q,Y=a(7139),K="data:image/png;base64,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";const W={class:"row"},R=(0,s._)("div",null,[(0,s._)("img",{src:K,class:"pb-2",style:{height:"auto",width:"auto"}})],-1),$={class:"col-9"},ee={class:"row row-cols-1 row-cols-md-3 g-4 p-2"},te={class:"card border-dark",style:{"max-width":"18rem",height:"10rem"}},ae={class:"card-body"},oe={class:"crop-text-2 title"},se={class:"d-grid gap-2 d-md-flex justify-content-md-end"},le={class:"card-footer border-dark"},ne=(0,s._)("i",{class:"bi-tag p-1"},null,-1),ie=(0,s._)("button",{class:"btn btn-outline-dark font-monospace col-4"},"Show More",-1),re=[ie],ce={class:"col-3"},de={class:"row row-cols-1 row-cols-md-2 g-4"},ue={class:"col-md-auto"},ge={class:"card border-dark",style:{width:"18rem"}},me=(0,s._)("div",{class:"card-header border-dark"},"Tags",-1),pe={class:"list-group list-group-flush"},he=(0,s._)("i",{class:"bi-tag"},null,-1);function ve(e,t,a,o,l,n){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",W,[R,(0,s._)("div",$,[(0,s._)("div",ee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.showLess?e.post:e.post.slice(0,15),(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col",key:t.id},[(0,s._)("div",te,[(0,s._)("div",ae,[(0,s._)("h5",oe,(0,Y.zw)(e.extractH1(t.content)),1),(0,s._)("div",se,[(0,s.Wm)(i,{class:"badge rounded-pill bg-success font-monospace",role:"button",to:`/user/detail/${t._id}`},{default:(0,s.w5)((()=>[(0,s.Uk)("more")])),_:2},1032,["to"])])]),(0,s._)("div",le,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.tbl_tags.slice(0,3),(e=>((0,s.wg)(),(0,s.iD)("small",{class:"text-dark",key:e.id},[ne,(0,s.Uk)((0,Y.zw)(e.name),1)])))),128))])])])))),128))]),(0,s._)("div",{class:"col-md-6 offset-md-3 row justify-content-center mt-2",role:"button",onClick:t[0]||(t[0]=t=>e.showLess=!0)},re)]),(0,s._)("div",ce,[(0,s._)("div",de,[(0,s._)("div",ue,[(0,s._)("div",ge,[me,(0,s._)("ul",pe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tag,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"list-group-item",key:e.id},[(0,s.Wm)(i,{to:`/user/search/${e.id}`,class:"nav-link link-dark"},{default:(0,s.w5)((()=>[he,(0,s.Uk)(" "+(0,Y.zw)(e.name),1)])),_:2},1032,["to"])])))),128))])])])])])])}var we=a(8755),fe=(0,s.aZ)({created(){this.getallPost(),this.getallTags(),this.getTags()},data:()=>({post:[],tag:null,tagsList:[],search:"",showLess:!1}),computed:{filteredList(){return this.search?this.tagsList.filter((e=>e.name.toLowerCase().includes(this.search.toLowerCase()))):null}},methods:{async getallPost(){this.$store.commit("UPDATE_LOADING",!0);let e="https://interm-api.onrender.com/api/post/getall";await A.Z.get(e).then((e=>{this.post=e.data})).catch((e=>{console.log(e)})).finally((()=>{setTimeout((()=>{this.$store.commit("UPDATE_LOADING",!1)}),1e3)}))},async getTags(){let e="https://interm-api.onrender.com/api/tags/tag";await A.Z.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((e=>{this.tag=e.data})).catch((e=>{console.log(e)}))},async getallTags(){let e="https://interm-api.onrender.com/api/tags/getall";await A.Z.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((e=>{this.tagsList=e.data})).catch((e=>{console.log(e)}))},extractH1(e){const t=we.ZP.load(e),a=t("h1").text();return""!=a?a:"Unknown Title"}}});const ye=(0,x.Z)(fe,[["render",ve]]);var _e=ye;const be={class:"container-fluid"},ke={class:"row"},Ae=(0,s._)("div",{class:"g-col-6"},[(0,s._)("h1",{class:"fw-light"},"Write Post")],-1),Ce={class:""},De={class:"row"},xe=(0,s._)("div",{class:"col-8"},[(0,s._)("div",{id:"editor",class:"justify-content-center"})],-1),Se={class:"col-4"},Te={class:"col"},Ie=(0,s._)("label",null,"Catagory",-1),Ee={class:"col"},Ue=(0,s._)("label",null,"Tags",-1),Ne=["onClick"],Ze=(0,s._)("span",{class:"multiselect-tag-remove-icon"},null,-1),Pe=[Ze],He=(0,s._)("br",null,null,-1),Le={class:"d-grid gap-2 d-md-flex justify-content-md-end"};function Me(e,t,a,o,l,n){const i=(0,s.up)("Multiselect");return(0,s.wg)(),(0,s.iD)("div",be,[(0,s._)("div",ke,[Ae,(0,s._)("div",Ce,[(0,s._)("div",De,[xe,(0,s._)("div",Se,[(0,s._)("div",Te,[Ie,(0,s.Wm)(i,{modelValue:e.catagory_name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.catagory_name=t),"close-on-select":!1,options:e.catagory,label:"name",searchable:!0,"create-option":!0,"on-create":e.handleCatagoryCreate},null,8,["modelValue","options","on-create"])]),(0,s._)("div",Ee,[Ue,(0,s.Wm)(i,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),mode:"tags",placeholder:"Select Tags","track-by":"name",label:"name","close-on-select":!1,searchable:!0,options:e.option,"create-option":!0,"on-create":e.handleTagCreate},{tag:(0,s.w5)((({option:e,handleTagRemove:t,disabled:a})=>[(0,s._)("div",{class:(0,Y.C_)(["multiselect-tag is-user",{"is-disabled":a}])},[(0,s.Uk)((0,Y.zw)(e.name)+" ",1),a?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",{key:0,class:"multiselect-tag-remove",onClick:a=>t(e,a)},Pe,8,Ne))],2)])),_:1},8,["modelValue","options","on-create"])]),(0,s._)("div",null,[He,(0,s._)("div",Le,[(0,s._)("button",{class:"btn btn-outline-success justify",onClick:t[2]||(t[2]=(...t)=>e.onclickSubmit&&e.onclickSubmit(...t))}," SAVE ")])])])])])])])}var Oe=a(6171),Be=a(8212),Ve=a.n(Be),ze=a(3267),Ge=a.n(ze),je=a(9810),Qe=(0,s.aZ)({created(){console.log("Created working"),this.getAllCatagory()},components:{Multiselect:je.Z},name:"App",mounted(){this.editor=new Oe.ZP({el:document.querySelector("#editor"),height:"700px",initialEditType:"wysiwyg",initialValue:"",hideModeSwitch:!0,plugins:[Ge(),Ve()]}),this.getAllTags()},computed:{filteredListCat(){return this.txt_search?this.catagory.filter((e=>e.name.toLowerCase().includes(this.txt_search.toLowerCase()))):null}},data:()=>({value:[],option:[],editor:null,catagory:[],seclected:!1,catagory_name:null,txt_search:""}),methods:{onclickSubmit(){var e=JSON.parse(localStorage.getItem("profile")||""),t={content:this.editor.getHTML(),catagory:this.catagory_name,tags:this.value,author:e.id};let a="https://interm-api.onrender.com/api/post/create";A.Z.post(a,t).then((e=>{console.log(e),To.push({path:"/user/home"}).then((()=>{this.$router.go()}))})).catch((e=>{console.log(e)}))},async handleTagCreate(e){let t="https://interm-api.onrender.com/api/tags/create";var a=await A.Z.post(t,{name:e.value}).then((e=>e.data));return console.log("Create Tag",a),a.value=a.id,this.option.push(a),e.value=a.id,e},async handleCatagoryCreate(e){console.log(e);let t="https://interm-api.onrender.com/api/catagory/create";var a=await A.Z.post(t,{name:e.value}).then((e=>e.data));return console.log("Create Catagory",a),a.value=a.id,this.option.push(a),e.value=a.id,e},getAllTags(){let e="https://interm-api.onrender.com/api/tags/getall";A.Z.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((e=>{let t=e.data.map((e=>(e.value=e.id,e)));this.option=t,console.log(t)})).catch((e=>{console.log(e)}))},getAllCatagory(){let e="https://interm-api.onrender.com/api/catagory/getall";A.Z.get(e).then((e=>{let t=e.data.map((e=>(e.value=e.id,e)));this.catagory=t})).catch((e=>{console.log(e)}))}}});const Fe=(0,x.Z)(Qe,[["render",Me]]);var Je=Fe;const qe=(0,s._)("h1",null,"Edit Post",-1),Xe={class:"row"},Ye={class:"container-fluid"},Ke={class:"row"},We=(0,s._)("div",{class:"col-8"},[(0,s._)("div",{id:"editor",class:"justify-content-center"})],-1),Re={class:"col-4"},$e={class:"col"},et=(0,s._)("label",null,"Catagory",-1),tt={class:"col"},at=(0,s._)("label",null,"Tags",-1),ot=["onClick"],st=(0,s._)("span",{class:"multiselect-tag-remove-icon"},null,-1),lt=[st],nt=(0,s._)("br",null,null,-1),it={class:"d-grid gap-2 d-md-flex justify-content-md-end"},rt=(0,s._)("i",{class:"bi-box-arrow-right"},null,-1);function ct(e,t,a,o,l,n){const i=(0,s.up)("Multiselect"),r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[qe,(0,s._)("div",Xe,[(0,s._)("div",Ye,[(0,s._)("div",Ke,[We,(0,s._)("div",Re,[(0,s._)("div",$e,[et,(0,s.Wm)(i,{modelValue:e.value_cat,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value_cat=t),"close-on-select":!1,options:e.catagories,label:"name",searchable:!0,"create-option":!0,"on-create":n.handleCatagoryCreate},null,8,["modelValue","options","on-create"])]),(0,s._)("div",tt,[at,(0,s.Wm)(i,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),mode:"tags",placeholder:"Select Tags","track-by":"name",label:"name","close-on-select":!1,searchable:!0,options:e.option,"create-option":!0,"on-create":n.handleTagCreate},{tag:(0,s.w5)((({option:e,handleTagRemove:t,disabled:a})=>[(0,s._)("div",{class:(0,Y.C_)(["multiselect-tag is-user",{"is-disabled":a}])},[(0,s.Uk)((0,Y.zw)(e.name)+" ",1),a?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",{key:0,class:"multiselect-tag-remove",onClick:a=>t(e,a)},lt,8,ot))],2)])),_:1},8,["modelValue","options","on-create"])]),(0,s._)("div",null,[nt,(0,s._)("div",it,[(0,s._)("button",{class:"btn btn-outline-success justify",onClick:t[2]||(t[2]=(...e)=>n.onclickEdit&&n.onclickEdit(...e))}," Edit "),(0,s.Wm)(r,{to:"/user/post",class:"btn btn-outline-danger justify"},{default:(0,s.w5)((()=>[rt,(0,s.Uk)("Back")])),_:1})])])])])])])],64)}var dt={created(){this.getPost(),this.getAllTags(),this.getAllCatagory()},components:{Multiselect:je.Z},mounted(){this.editor=new Oe.ZP({el:document.querySelector("#editor"),height:"auto",initialEditType:"wysiwyg",hideModeSwitch:!0,plugins:[Ge(),Ve()]})},data:()=>({posts:null,value:[],option:[],catagories:null,catagory_name:null,editor:null,value_cat:null}),methods:{getPost(){var e=this.$route.params.id;let t="https://interm-api.onrender.com/api/post/getbyid/";A.Z.get(t+e).then((e=>{this.posts=e.data,this.value=e.data.tags,this.value_cat=e.data.catagory_id,console.log(e),this.editor=new Oe.ZP({el:document.querySelector("#editor"),height:"auto",initialEditType:"wysiwyg",initialValue:e.data.content,hideModeSwitch:!0,plugins:[Ge(),Ve()]})})).catch((e=>{console.log(e),console.log(e.response.data.message)})),console.log("Edit post")},onclickEdit(){var e=JSON.parse(localStorage.getItem("profile")||""),t={content:this.editor.getHTML(),catagory_id:this.value_cat,tags:this.value,author:e.id};console.log(t);var a=this.$route.params.id;let o="https://interm-api.onrender.com/api/post/update/";A.Z.put(o+a,t).then((e=>{console.log(e),To.push({path:"/user/post"}).then((()=>{this.$router.go()}))})).catch((e=>{console.log(e.response.data.message)}))},async handleTagCreate(e){let t="https://interm-api.onrender.com/api/tags/create";var a=await A.Z.post(t,{name:e.value}).then((e=>e.data));return console.log("Create Tag",a),a.value=a.id,this.option.push(a),e.value=a.id,e},async handleCatagoryCreate(e){console.log(e);let t="https://interm-api.onrender.com/api/catagory/create";var a=await A.Z.post(t,{name:e.value}).then((e=>e.data));return console.log("Create Catagory",a),a.value=a.id,this.option.push(a),e.value=a.id,e},getAllTags(){let e="https://interm-api.onrender.com/api/tags/getall";A.Z.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((e=>{let t=e.data.map((e=>(e.value=e.id,e)));this.option=t})).catch((e=>{console.log(e.response.data.message)}))},getAllCatagory(){let e="https://interm-api.onrender.com/api/catagory/getall";A.Z.get(e).then((e=>{let t=e.data.map((e=>(e.value=e.id,e)));this.catagories=t})).catch((e=>{console.log(e.response.data.message)}))}}};const ut=(0,x.Z)(dt,[["render",ct]]);var gt=ut;const mt={class:"container"},pt={class:"row justify-content-between"},ht=(0,s._)("h1",{class:"fw-light col-4"},"My Post",-1),vt={class:"col-4"},wt=(0,s._)("br",null,null,-1),ft={class:"d-grid gap-2 d-md-flex justify-content-md-end"},yt=(0,s._)("i",{class:"bi-pencil-square"},null,-1),_t={class:"row"},bt={class:"table"},kt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"#"),(0,s._)("th",{scope:"col"},"Title"),(0,s._)("th",{class:"col-3"})])],-1),At={scope:"row"},Ct={class:"row justify-content-around"},Dt=(0,s._)("i",{class:"bi-pen"},null,-1),xt=["onClick"],St=(0,s._)("i",{class:"bi-trash3-fill"},null,-1);function Tt(e,t,a,o,n,i){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",mt,[(0,s._)("div",pt,[ht,(0,s._)("div",vt,[wt,(0,s._)("div",ft,[(0,s.Wm)(r,{to:"addpost",class:"btn btn-info me-md-2 opacity-40"},{default:(0,s.w5)((()=>[yt,(0,s.Uk)(" Write Post")])),_:1})])])]),(0,s._)("div",_t,[(0,s._)("table",bt,[kt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.allPost,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("th",At,(0,Y.zw)(t+1),1),(0,s._)("td",null,(0,Y.zw)(i.extractH1(e.content)),1),(0,s._)("td",null,[(0,s._)("div",Ct,[(0,s.Wm)(r,{class:"btn btn-primary col-4",to:`/user/editpost/${e.id}`},{default:(0,s.w5)((()=>[Dt,(0,s.Uk)(" Edit Post")])),_:2},1032,["to"]),(0,s._)("button",{class:"btn btn-danger col-4",onClick:(0,l.iM)((t=>i.onclickDelete(e.id)),["prevent"])},[St,(0,s.Uk)(" Delete")],8,xt)])])])))),128))])])])])}var It={created(){console.log("created work"),this.getAllPost()},data:()=>({allPost:null}),methods:{async getAllPost(){this.$store.commit("UPDATE_LOADING",!0);var e=JSON.parse(localStorage.getItem("profile")||"");let t="https://interm-api.onrender.com/api/post/getallbyid/";await A.Z.get(t+e.id).then((e=>{this.allPost=e.data,console.log(e)})).catch((e=>{console.log(e.response.data.message)})).finally((()=>{this.$store.commit("UPDATE_LOADING",!1)}))},extractH1(e){const t=we.ZP.load(e),a=t("h1").text();return""!=a?a:"Unknown Title"},onclickDelete(e){let t="https://interm-api.onrender.com/api/post/delete/";A.Z["delete"](t+e).then((e=>{alert("Delete Success"),To.push({path:"/user/post"}).then((()=>{this.$router.go()}))})).catch((e=>{console.log(e)}))}}};const Et=(0,x.Z)(It,[["render",Tt]]);var Ut=Et;const Nt={class:"row"},Zt={class:"col-8"},Pt={"aria-label":"breadcrumb"},Ht={class:"breadcrumb"},Lt={class:"breadcrumb-item"},Mt=(0,s._)("li",{class:"breadcrumb-item active","aria-current":"page"},"Post",-1),Ot=(0,s._)("div",{id:"viewer",class:"pb-4"},null,-1),Bt={class:"col-4"},Vt={class:"p-2"},zt={class:"list-group border-dark"},Gt={class:"list-group-item d-flex justify-content-between align-items-start border-dark",style:{"background-color":"#"}},jt={class:"ms-2 me-auto text-capitalize"},Qt=(0,s._)("div",{class:"fw-bold"},"Author",-1),Ft=(0,s._)("i",{class:"bi-person"},null,-1),Jt={class:"list-group-item d-flex justify-content-between align-items-start border-dark",style:{"background-color":"#"}},qt={class:"ms-2 me-auto text-capitalize"},Xt=(0,s._)("div",{class:"fw-bold"},"Catagory",-1),Yt=["href"],Kt=(0,s._)("i",{class:"bi-book"},null,-1),Wt={class:"list-group-item d-flex justify-content-between align-items-start border-dark",style:{"background-color":"#"}},Rt={class:"ms-2 me-auto text-capitalize"},$t=(0,s._)("div",{class:"fw-bold"},"Tags",-1),ea=["href"],ta=(0,s._)("i",{class:"bi-tag"},null,-1),aa={class:"p-2"},oa={class:"pb-2"},sa={class:"card border-dark",style:{"background-color":"#EEF1FF"}},la={class:"card-body"},na=(0,s._)("h5",{class:"card-title"},"Comments",-1),ia={class:"inline-flex text-start p-2 badge text-wrap text-dark",style:{"background-color":"#D2DAFF"}},ra={key:0},ca={class:"p-2"},da={class:"form-floating"},ua=["onUpdate:modelValue"],ga=(0,s._)("label",{for:"floatingTextarea"},"Comments here!!",-1),ma={key:0,class:"row justify-content-md-end p-2"},pa=["onClick"],ha={key:1},va={class:""},wa={class:"fw-bold h5 text-capitalize"},fa=(0,s._)("i",{class:"bi-person-bounding-box p-2",style:{"font-size":"2rem",color:"cornflowerblue"}},null,-1),ya={class:"fw-normal p-2 h6"},_a={key:0,class:"row justify-content-md-end"},ba=["onClick"],ka=["onClick"],Aa={class:"row justify-content-md-end"},Ca={key:0},Da={class:"form-floating"},xa=(0,s._)("label",{for:"floatingTextarea"},"Comments here!!",-1),Sa=(0,s._)("div",{class:"row justify-content-md-end p-2"},[(0,s._)("button",{class:"col-auto btn btn-outline-success",role:"button"},"send")],-1);function Ta(e,t,a,o,n,i){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Nt,[(0,s._)("div",Zt,[(0,s._)("div",null,[(0,s._)("nav",Pt,[(0,s._)("ol",Ht,[(0,s._)("li",Lt,[(0,s.Wm)(r,{to:"/user/home",class:"link-dark"},{default:(0,s.w5)((()=>[(0,s.Uk)("Home")])),_:1})]),Mt])])]),Ot]),(0,s._)("div",Bt,[(0,s._)("div",Vt,[(0,s._)("ol",zt,[(0,s._)("li",Gt,[(0,s._)("div",jt,[Qt,Ft,(0,s.Uk)(" "+(0,Y.zw)(e.author),1)])]),(0,s._)("li",Jt,[(0,s._)("div",qt,[Xt,(0,s._)("a",{href:`/user/catagory/${e.catagory_id}`,class:"nav-link px-2 link-dark"},[Kt,(0,s.Uk)(" "+(0,Y.zw)(e.catagory_name),1)],8,Yt)])]),(0,s._)("li",Wt,[(0,s._)("div",Rt,[$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tags,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e._id},[(0,s._)("a",{href:`/user/search/${e._id}`,class:"nav-link px-2 link-dark"},[ta,(0,s.Uk)(" "+(0,Y.zw)(e.name),1)],8,ea)])))),128))])])])]),(0,s._)("div",aa,[(0,s._)("div",oa,[(0,s._)("div",sa,[(0,s._)("div",la,[na,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.showLess?e.Comments:e.Comments.slice(0,5),((t,a)=>((0,s.wg)(),(0,s.iD)("div",{class:"row p-2",key:a},[(0,s._)("div",ia,[e.comment_idEdit==t._id?((0,s.wg)(),(0,s.iD)("div",ra,[(0,s._)("form",ca,[(0,s._)("div",da,[(0,s.wy)((0,s._)("textarea",{class:"form-control",id:"floatingTextarea",style:{height:"100px"},"onUpdate:modelValue":e=>t.text=e},null,8,ua),[[l.nr,t.text],[l.F8,t.text]]),ga]),t.author_id==this.author_id?((0,s.wg)(),(0,s.iD)("div",ma,[(0,s._)("div",{class:"col-auto link-success",role:"button",onClick:e=>i.OncliclSaveEdit(t.text,t._id)},"บันทึก",8,pa)])):(0,s.kq)("",!0)])])):((0,s.wg)(),(0,s.iD)("div",ha,[(0,s._)("div",va,[(0,s._)("p",wa,[fa,(0,s.Uk)(" "+(0,Y.zw)(t.author_name),1)]),(0,s._)("p",ya,(0,Y.zw)(t.text),1),t.author_id==this.author_id?((0,s.wg)(),(0,s.iD)("div",_a,[(0,s._)("div",{class:"col-auto link-success",role:"button",onClick:(0,l.iM)((e=>i.OnClickEdit(t._id)),["prevent"])},"Edit ",8,ba),(0,s._)("div",{class:"col-auto link-danger",role:"button",onClick:e=>i.OncommentsDelete(t._id)},"Delete",8,ka)])):(0,s.kq)("",!0)])]))])])))),128)),(0,s._)("div",Aa,[0==e.Comments.length?((0,s.wg)(),(0,s.iD)("div",Ca)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:"col-auto",role:"button",onClick:t[0]||(t[0]=t=>e.showLess=!0)},"more"))])]),(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,l.iM)(((...e)=>i.OnComment&&i.OnComment(...e)),["prevent"])),class:"p-2"},[(0,s._)("div",Da,[(0,s.wy)((0,s._)("textarea",{class:"form-control border-dark",placeholder:"Comment here",id:"floatingTextarea",style:{height:"100px"},"onUpdate:modelValue":t[1]||(t[1]=t=>e.comment=t)},null,512),[[l.nr,e.comment]]),xa]),Sa],32)])])])])])}var Ia=a(8463),Ea=a.n(Ia),Ua={created(){console.log("Created work"),this.getPost();var e=JSON.parse(localStorage.getItem("profile")||"");this.author_id=e.id,this.getComment()},data:()=>({post:null,viewer:null,tags:[],author:null,catagory_name:null,catagory_id:null,Comments:[],comment_idEdit:"",comment:"",author_id:"",showLess:!1}),methods:{async getPost(){var e=this.$route.params.id;let t="https://interm-api.onrender.com/api/post/getdetail/";await A.Z.get(t+e).then((e=>{console.log(e.data),this.tags=e.data.tbl_tags,this.author=e.data.author.name,this.catagory_name=e.data.catagory.name,this.catagory_id=e.data.catagory._id,this.viewer=new(Ea())({el:document.querySelector("#viewer"),initialValue:e.data.content})})).catch((e=>{console.log(e.response.data.message),alert(e.response.data.message)}))},async getComment(){var e=this.$route.params.id;let t="https://interm-api.onrender.com/api/post/getcommentbyid";await A.Z.post(t,{post_id:e}).then((e=>{this.comment="",this.comment_idEdit="",this.Comments=e.data})).catch((e=>{console.log(e.response.data.message),alert(e.response.data.message)}))},OnComment(){console.log("OnComment Working");var e=this.comment;if(e){var t=JSON.parse(localStorage.getItem("profile")||""),a=t.id;const o=this.$route.params.id;let s="https://interm-api.onrender.com/api/comments/create";A.Z.post(s,{text:e,author_id:a}).then((e=>{let t=e.data.id;console.log(t),console.log(e.data),A.Z.put("https://interm-api.onrender.com/api/post/addcomments",{post_id:o,comment_id:t}).then((e=>{console.log(e.data),this.getComment()}))})).catch((e=>{console.log(e.response.data.message),alert(e.response.data.message)}))}},OncommentsDelete(e){var t=e;let a="https://interm-api.onrender.com/api/comments/delete/";A.Z["delete"](a+t).then((e=>{console.log(e);const a=this.$route.params.id,o={};o.data={post_id:a,comment_id:t};let s="https://interm-api.onrender.com/api/post/deletecomment";A.Z["delete"](s,o).then((e=>{this.getComment()})).catch((e=>{console.log(e.response.data.message),alert(e.response.data.message)}))})).catch((e=>{console.log(e.response.data.message),alert(e.response.data.message)}))},OnClickEdit(e){e?(this.comment_idEdit=e,this.$nextTick((()=>{this.$refs["comments"+e]&&this.$refs["comments"+e][0].focus()}))):this.comment_idEdit=null},OncliclSaveEdit(e,t){console.log(e);let a="https://interm-api.onrender.com/api/comments/update";A.Z.put(a,{id:t,text:e}).then((e=>{this.getComment()})).catch((e=>{console.log(e.response.data.message),alert(e.response.data.message)}))}}};const Na=(0,x.Z)(Ua,[["render",Ta]]);var Za=Na;const Pa={class:"row"},Ha={class:"col-3"},La={key:0,class:"fw-light indigo"},Ma={key:1,class:"fw-light indigo"},Oa={class:"nav flex-column"},Ba=["onClick"],Va={key:0,class:"nav-item"},za=["onClick"],Ga=(0,s._)("div",{id:"viewer",class:"col-9"},null,-1);function ja(e,t,a,o,l,n){return(0,s.wg)(),(0,s.iD)("div",Pa,[(0,s._)("div",Ha,[null==e.catagory_name?((0,s.wg)(),(0,s.iD)("h2",La,"Menu")):((0,s.wg)(),(0,s.iD)("h2",Ma,(0,Y.zw)(e.catagory_name),1)),(0,s._)("ul",Oa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.post,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"nav-item",key:e.id},[(0,s._)("a",{class:"nav nav-link link-dark",role:"button","data-bs-toggle":"button",onClick:t=>n.onclickTitle(e.content)},(0,Y.zw)(n.extractH1(e.content)),9,Ba),null!==n.extractH2(e.content)?((0,s.wg)(),(0,s.iD)("ul",Va,[(0,s._)("li",null,[(0,s._)("a",{class:"nav nav-link link-dark",role:"button","data-bs-toggle":"button",onClick:t=>n.onclickTitle(e.content)},(0,Y.zw)(n.extractH2(e.content)),9,za)])])):(0,s.kq)("",!0)])))),128))])]),Ga])}var Qa={created(){console.log("created working"),this.getPostbycat()},mounted(){},data:()=>({post:[],viewer:"",catagory_name:null}),methods:{async getPostbycat(){this.$store.commit("UPDATE_LOADING",!0);var e=this.$route.params.id;let t="https://interm-api.onrender.com/api/post/getbycatagory/";await A.Z.get(t+e).then((e=>{this.catagory_name=e.data[0].catagory.name,this.post=e.data;let t=e.data[0].content;this.viewer=new(Ea())({el:document.querySelector("#viewer"),initialValue:t})})).catch((e=>{console.log(e.response.data.message),console.log(e)})).finally((()=>{this.$store.commit("UPDATE_LOADING",!1)}))},extractH1(e){const t=we.ZP.load(e),a=t("h1").text();return""!=a?a:"Unknown Title"},extractH2(e){const t=we.ZP.load(e),a=t("h2").text();return""!=a?a:null},async onclickTitle(e){this.viewer=await new(Ea())({el:document.querySelector("#viewer"),initialValue:e}),console.log("click")}}};const Fa=(0,x.Z)(Qa,[["render",ja]]);var Ja=Fa;const qa={class:"row"},Xa={class:"col-9"},Ya={class:"h2 fw-light p-2"},Ka={class:"row row-cols-1 row-cols-md-3 g-4"},Wa={class:"card border-dark",style:{"max-width":"18rem",height:"10rem"}},Ra={class:"card-body"},$a={class:"crop-text-2 card-title"},eo={class:"text-end"},to={class:"card-footer border-dark"},ao=(0,s._)("i",{class:"bi-tag p-1"},null,-1),oo=(0,s._)("button",{class:"btn btn-outline-dark font-monospace col-4"},"Show More",-1),so=[oo],lo={class:"col-3"},no={class:"search"},io={class:"search-wrapper"},ro={class:"d-flex",role:"search"},co={class:"wrapper"},uo={class:"list-group list-group-flush"},go=["href"],mo=(0,s._)("i",{class:"bi-tag"},null,-1),po=(0,s._)("br",null,null,-1),ho={class:"row row-cols-1 row-cols-md-2 g-4"},vo={class:"col-md-auto"},wo={class:"card border-dark",style:{width:"18rem"}},fo=(0,s._)("div",{class:"card-header border-dark"},"Tags",-1),yo={class:"list-group list-group-flush"},_o=["href"],bo=(0,s._)("i",{class:"bi-tag"},null,-1);function ko(e,t,a,o,n,i){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",qa,[(0,s._)("div",Xa,[(0,s._)("div",Ya,(0,Y.zw)(e.tag_name),1),(0,s._)("div",Ka,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.showLess?e.post:e.post.slice(0,15),(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col",key:e.id},[(0,s._)("div",Wa,[(0,s._)("div",Ra,[(0,s._)("h5",$a,(0,Y.zw)(i.extractH1(e.content)),1),(0,s._)("div",eo,[(0,s.Wm)(r,{class:"badge rounded-pill bg-success font-monospace",role:"button",to:`/user/detail/${e._id}`},{default:(0,s.w5)((()=>[(0,s.Uk)("more")])),_:2},1032,["to"])])]),(0,s._)("div",to,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tbl_tags.slice(0,3),(e=>((0,s.wg)(),(0,s.iD)("small",{class:"text-dark",key:e.id},[ao,(0,s.Uk)((0,Y.zw)(e.name),1)])))),128))])])])))),128))]),(0,s._)("div",{class:"col-md-6 offset-md-3 row justify-content-center mt-4",role:"button",onClick:t[0]||(t[0]=t=>e.showLess=!0)},so)]),(0,s._)("div",lo,[(0,s._)("div",no,[(0,s._)("div",io,[(0,s._)("div",ro,[(0,s.wy)((0,s._)("input",{class:"form-control me-2",type:"search",placeholder:"Search Tags","aria-label":"Search","onUpdate:modelValue":t[1]||(t[1]=t=>e.search=t)},null,512),[[l.nr,e.search]])])]),(0,s._)("div",co,[(0,s._)("ul",uo,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filteredList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"list-group-item",key:e.id},[(0,s._)("a",{href:`/user/search/${e.id}`,class:"nav-link link-dark"},[mo,(0,s.Uk)(" "+(0,Y.zw)(e.name),1)],8,go)])))),128))])])]),po,(0,s._)("div",ho,[(0,s._)("div",vo,[(0,s._)("div",wo,[fo,(0,s._)("ul",yo,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tag,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"list-group-item",key:e.id},[(0,s._)("a",{href:`/user/search/${e.id}`,class:"nav-link link-dark"},[bo,(0,s.Uk)(" "+(0,Y.zw)(e.name),1)],8,_o)])))),128))])])])])])])}var Ao={created(){this.getallPost(),this.getallTags(),this.getTags()},data:()=>({post:[],tag:null,tagsList:[],search:"",tag_name:"",showLess:!1}),computed:{filteredList(){return this.search?this.tagsList.filter((e=>e.name.toLowerCase().includes(this.search.toLowerCase()))):null}},methods:{async getallPost(){var e=this.$route.params.id;let t="https://interm-api.onrender.com/api/post/getbyTags/";await A.Z.get(t+e).then((e=>{this.post=e.data})).catch((e=>{console.log(e)}))},async getTags(){let e="https://interm-api.onrender.com/api/tags/tag";await A.Z.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((e=>{this.tag=e.data,console.log(e.data);var t=this.$route.params.id;e.data.forEach((e=>{e.id==t&&(this.tag_name=e.name)}))})).catch((e=>{console.log(e)}))},async getallTags(){let e="https://interm-api.onrender.com/api/tags/getall";await A.Z.get(e,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((e=>{this.tagsList=e.data})).catch((e=>{console.log(e)}))},extractH1(e){const t=we.ZP.load(e),a=t("h1").text();return""!=a?a:"Unknown Title"},onclickTags(e){To.push({path:`/user/search/${e}`}).then((()=>{this.$router.go()}))}}};const Co=(0,x.Z)(Ao,[["render",ko]]);var Do=Co;const xo=[{path:"/register",name:"register",component:T},{path:"/",name:"login",component:X},{path:"/user",name:"user.home",component:()=>a.e(443).then(a.bind(a,3801)),children:[{path:"home",component:_e},{path:"addpost",component:Je},{path:"editpost/:id",name:"editpost",component:gt},{path:"post",component:Ut},{path:"detail/:id",component:Za},{path:"catagory/:id",component:Ja},{path:"search/:id",component:Do}]}],So=(0,o.p7)({history:(0,o.PO)("/"),routes:xo});So.beforeEach(((e,t,a)=>{console.log("page change");const o=["/","/register"],s=!o.includes(e.path);s?A.Z.get("https://interm-api.onrender.com/api/profile/vertify",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((()=>{a()})).catch((e=>{console.log(e.response.data),localStorage.removeItem("access_token"),a({name:"login"})})):("/user"==e.path&&null!=localStorage.getItem("access_token")&&a({name:"user.home"}),a())}));var To=So}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,l){if(!o){var n=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],l=e[d][2];for(var i=!0,r=0;r<o.length;r++)(!1&l||n>=l)&&Object.keys(a.O).every((function(e){return a.O[e](o[r])}))?o.splice(r--,1):(i=!1,l<n&&(n=l));if(i){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,s,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,o){return a.f[o](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/about.2e529627.js"}}(),function(){a.miniCssF=function(e){return"css/about.fb79b95a.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="my-project:";a.l=function(o,s,l,n){if(e[o])e[o].push(s);else{var i,r;if(void 0!==l)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+l){i=u;break}}i||(r=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+l),i.src=o),e[o]=[s];var g=function(t,a){i.onerror=i.onload=null,clearTimeout(m);var s=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(g.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=g.bind(null,i.onerror),i.onload=g.bind(null,i.onload),r&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,o,s){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css";var n=function(a){if(l.onerror=l.onload=null,"load"===a.type)o();else{var n=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.type=n,r.request=i,l.parentNode.removeChild(l),s(r)}};return l.onerror=l.onload=n,l.href=t,a?a.parentNode.insertBefore(l,a.nextSibling):document.head.appendChild(l),l},t=function(e,t){for(var a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var s=a[o],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===e||l===t))return s}var n=document.getElementsByTagName("style");for(o=0;o<n.length;o++){s=n[o],l=s.getAttribute("data-href");if(l===e||l===t)return s}},o=function(o){return new Promise((function(s,l){var n=a.miniCssF(o),i=a.p+n;if(t(n,i))return s();e(o,i,null,s,l)}))},s={143:0};a.f.miniCss=function(e,t){var a={443:1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=o(e).then((function(){s[e]=0}),(function(t){throw delete s[e],t})))}}}(),function(){var e={143:0};a.f.j=function(t,o){var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)o.push(s[2]);else{var l=new Promise((function(a,o){s=e[t]=[a,o]}));o.push(s[2]=l);var n=a.p+a.u(t),i=new Error,r=function(o){if(a.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var l=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+l+": "+n+")",i.name="ChunkLoadError",i.type=l,i.request=n,s[1](i)}};a.l(n,r,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,l,n=o[0],i=o[1],r=o[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(r)var d=r(a)}for(t&&t(o);c<n.length;c++)l=n[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},o=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(4770)}));o=a.O(o)})();
//# sourceMappingURL=app.2213efca.js.map